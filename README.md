# zaichik

В данном проекте мы посмотрим, как можно разработать очень простой брокер сообщений с помощью языка Rust и фреймворка Tokio.
Мы посмотрим на то, как построить свой протокол на основе TCP, как организовать передачу данных с помощью каналов
и как можно организовать хранение данных, к которым нужен доступ из разных потоков. Поехали!

## Общий подход
Существует множество вариантов организации кода для брокера. Основной единицей для
хранения сообщений в зайчике будет топик (topic). Можно предположить, что для топика мы воспользуемся какой-то
специальной структурой данных, например массивом или очередью, для того, чтобы хранить в нем сообщения и потом вычитывать
оттуда с помощью подписки на него, но нет. В зайчике мы воспользуемся другим подходом.

Для каждого клиента мы создадим свою очередь, где будем хранить копии всех сообщений, которые нам интересны.
Это поможет нам избежать некотых сложностей с синхронизацией ресурсов, а так же откроет пространство для
разных интересных ходов.


## Разработка
Ход разработки можно смотреть в коммитах к репозиторию, а для ознакомления с исходным кодом можно прочитать комментарии и 
README.


## Запуск

RUST_LOG=debug cargo run